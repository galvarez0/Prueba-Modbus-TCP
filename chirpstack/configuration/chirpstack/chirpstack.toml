# ChirpStack configuration.
# Este archivo vive dentro del "config-dir" que se pasa con -c / --config-dir.
# Debe convivir con uno o mÃ¡s region_*.toml.  (ej: region_us915.toml)

[logging]
level = "info"
json = false

[postgresql]
dsn = "postgresql://chirpstack:chirpstack@chirpstack-postgresql/chirpstack?sslmode=disable"
max_open_connections = 10
ca_cert = ""

[sqlite]
path = "sqlite://chirpstack.sqlite"
max_open_connections = 4
pragmas = [
  "busy_timeout = 1000",
  "foreign_keys = ON",
]

[redis]
servers = [
  "redis://chirpstack-redis/",
]
cluster = false
key_prefix = ""
max_open_connections = 100
min_idle_connections = 0

[api]
# Bind interno del container (se publica como 127.0.0.1:8081 -> Caddy)
bind = "0.0.0.0:8080"
secret = "dev-secret-2026-chirpstack-pruebatcp1"

[network]
net_id = "000000"
secondary_net_ids = []
dev_addr_prefixes = []
enabled_regions = [
  "us915_0",
  "eu868",
  "au915_0",
]
deduplication_delay = "200ms"
get_downlink_data_delay = "100ms"
mac_commands_disabled = false
adr_plugins = []

[network.scheduler]
interval = "1s"
class_a_lock_duration = "5s"
class_c_lock_duration = "5s"
multicast_class_c_margin = "5s"
multicast_class_b_margin = "5s"

[integration]
enabled = [
  "mqtt",
]

[integration.mqtt]
server = "tcp://mosquitto:1883/"
json = true
username = ""
password = ""
qos = 0
clean_session = false
client_id = ""
keep_alive_interval = "30s"